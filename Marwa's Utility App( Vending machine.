# catagorizing items in different catagory



print('''РЂБРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРа┤РбдРБђРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБцРБ┤РБХРБХРБХРБХРБХРБХРБХРБцРБёРађРађРађРађРаўРаЊРБдРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБ┤РБЙРБ┐РА┐Ра┐Рб┐РБ╗РБ┐РБ┐РБЪРБ╗РА┐Ра┐РБ┐РБ┐РБиРБёРАђРађРађРаѕРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБ┤РБ┐РБ┐РБФРАхРаќРаІРаЅРаЂРађРађРађРађРаЅРаЎРањРа┐РБ┐Рб┐РБиРБдРбцРБђРБђРАђРађРађРађРађРађРађРађРБђРБђРБђРАђРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРБаРб┤РБ┐РАЪРАхРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЃРа╣РБ┐РБиРБцРБѕРаЅРаЏРаЏРаЊРањРаџРаЏРаЏРаЅРаЅРаЅРаЎРбиРАё
РађРађРађРађРађРађРађРађРађРађРбђРБаРаъРБАРБЙРАЈРаЁРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбаРБ┐РБ┐РАЈРаЅРбБРађРађРађРађРађРађРађРађРађРађРађРађРБ┐
РађРађРађРађРађРађРађРађРбђРБ┤РаІРбАРБЙРБ┐РБ┐РаЄРађРађРађРађРађРађРађРађРађРађРађРађРа░РадРацРбцРБцРАёРађРбИРБ┐РБ┐РАЄРађРаўРАєРађРађРађРађРађРађРађРађРађРађРбаРАЪ
РађРађРађРБђРБђРБцРа┤РаъРаЅРађРбаРАЈРБ┐РБ┐РАЈРађРБђРАаРа┤РаќРаЃРађРбђРађРбђРађРб░РАђРађРађРађРађРађРађРађРаўРБ┐РБ┐РБЄРађРб░РАЂРађРађРађРађРађРађРађРађРбђРБ┤РаЪРаЂ
РађРБ┤РаъРаІРађРађРађРађРађРађРаўРБЄРБ┐РБ┐РАЄРађРађРађРађРађРађРађРаИРаЙРаІРаЎРбџРАЃРађРађРађРађРађРађРађРађРБ╣РБ┐РБ┐РАдРаЈРаЎРаЏРаХРаХРацРацРа┤РаХРаЏРаІРаЂРађРађ
РбИРАЈРађРађРађРађРађРађРађРађРађРаўРб┐РБ┐РБ┐РБёРАђРађРађРађРађРађРађРађРађРбаРАЪРаЎРбиРАёРађРБђРБђРБцРа┤РаЪРаЅРаѕРаЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РаўРБЄРађРађРађРађРађРађРађРађРађРбђРА╝РаІРаЅРаЅРаЏРањРа▓РбХРАХРАдРа┤Ра┤РаХРаЙРАЄРађРађРб╗РаЏРа╣РБЇРБђРБцРБёРАђРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРаЎРбиРБёРађРађРађРађРађРБаРА┤РаЏРађРађРађРађРађРађРбђРБЙРАБРаЎРБдРађРађРаљРаЂРађРађРађРађРађРб╗РАЁРађРАѕРаЅРб│РАёРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРаЅРаЅРаЏРаџРаІРаЅРаЅРађРађРађРађРађРађРБаРаХРБЙРаЂРбИРБёРБ╝РађРађРађРађРађРађРађРађРађРађРБиРађРб╣РаёРаѕРБ┐РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРааРБ┐РађРаѕРаЃРађРаЅРаЂРађРађРађРађРађРА┤РаХРБцРађРађРбИРАХРаЏРађРБ░РАЪРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБ┐РАђРађРБаРАёРађРађРађРађРађРађРБЙРАЃРађРаѕРбЃРБђРА╝РацРацРаХРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЅРаЅРаЅРаЅРаЎРаЊРањРањРањРаХРа┐РБцРБцРБцРА╝РаІРаЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ''')



print("                          |¤ЅсЃ╗`)№ЙЅ Hi..")

print("===========================================")
print("­Ъєє ­ЪЁ┤ ­ЪЁ╗ ­ЪЁ▓ ­ЪЁЙ ­ЪЁ╝ ­ЪЁ┤   ­ЪєЃ ­ЪЁЙ   ­ЪЁ╝ ­ЪЁ░ ­ЪєЂ ­ЪЁЙ РЮю­Ъєѓ   ­ЪєЁ ­ЪЁ┤ ­ЪЁй ­ЪЁ│ ­ЪЁИ­ЪЁй ­ЪЁХ   ­ЪЁ╝ ­ЪЁ░ ­ЪЁ▓ ­ЪЁи ­ЪЁИ ­ЪЁй ­ЪЁ┤.")
print("===========================================")






items = {
    "­ЪЁ│ ­ЪєЂ ­ЪЁИ ­ЪЁй ­ЪЁ║ ­Ъєѓ": {
        "1": {"item": "KahwaРўЋ", "price":3, "stock": 20},
        "2": {"item": "sparkled water­ЪЦц", "price": 5, "stock": 40},
        "3": {"item": "chaiРўЋ", "price": 3, "stock": 35},
        "4": {"item": "water­ЪЦЏ", "price": 3, "stock": 34},
    },
    "­Ъєѓ ­ЪЁй ­ЪЁ░ ­ЪЁ▓ ­ЪЁ║ ­Ъєѓ": {
        "5": {"item": "spicy peanuts­ЪЦю", "price": 8, "stock": 12},
        "6": {"item": "salted peanuts­ЪЦю", "price": 3, "stock": 30},
        "7": {"item": "cookie­ЪЇф", "price": 4, "stock": 5},
        "8": {"item": "oreo bisciut­ЪЇф", "price": 4, "stock": 5},
        '9':{'item':"spicy popcorn­ЪЇ┐",'price':6,'stock':5},
        '10':{'item':' salted popcorn­ЪЇ┐','price':5,'stock':4}
    },
    "­ЪЁ▓ ­ЪЁи ­ЪЁЙ ­ЪЁ▓ ­ЪЁЙ ­ЪЁ╗ ­ЪЁ░ ­ЪєЃ ­ЪЁ┤": {
        "11": {"item": "kitkat­ЪЇФ", "price": 3, "stock": 25},
        "12": {"item": "Dark chocolate­ЪЦ«", "price": 4, "stock": 13},
        "13": {"item": "dairy milk­ЪЇФ", "price": 3, "stock": 5},
        "14": {"item": "galaxy­Ъцј", "price": 3, "stock": 14},
        '15':{'item':"max­ЪЦ»",'price':5,'stock':5},
        '16':{'item':'honey choco­ЪЇ»','price':4,'stock':4}
    },
    "­ЪЁ▓ ­ЪЁЙ ­ЪЁх ­ЪЁх ­ЪЁ┤ ­ЪЁ┤": {
        "17": {"item": "ice americano­ЪДі­ЪЦц", "price": 7, "stock": 25},
        "18": {"item": "hot americano­ЪЦц", "price": 5.9, "stock": 13},
        "19": {"item": "orangeamericano­ЪЇІсђјРўЋсђЈ", "price": 9, "stock": 5},
        "20": {"item": "ice latte­ЪДіРўЋ№ИЈ", "price": 9, "stock": 14},
        '21':{'item':"hot latte РўЋ№Иј",'price':9,'stock':5},
        '22':{'item':'cappucino РЎе','price':10,'stock':4}
    },

}
# function to print menu of items
def print_menu(item):
    print("Menu:\n")
    for category, category_items in item.items():
        print(category + ":")
        for code, item in category_items.items():
            print(f'{code}: {item["item"]} ({item["price"]:.2f} dhs)')
        print()


# function to get valid code from user
def get_code(item):
    while True:
        code = input("Enter code: ")
        # check if code is valid
        for category, category_items in item.items():
            if code in category_items:
                return code
        print("Invalid code. Please try again.")


# function to get valid amount of money from user
def get_money(item, code):
    # search for item in Drinks , Snacks,chocolate and coffee dictionaries
    for category, category_items in item.items():
        if code in category_items:
            item = category_items[code]
            break
    else:
        print(f'Invalid code "{code}".')
        return

    while True:
        money = float(input("Enter money: "))
        # check if the amount was enough
        if money < item["price"]:
            print(f'Not enough money. Please insert {item["price"] - money:.2f} dhs more.')
            money += float(input("Enter money: "))
        if money >=item["price"]:
            return money
            dispense_item(item, code,money)
        print(
            f'Not enough money. Please insert {item["price"] - money:.2f} dhs more.'
        )


# function to dispense item and calculate change
def dispense_item(item, code, money):
    # search for item in Drinks ,Snacks,chocolates and coffee dictionaries
    for category, category_items in items.items():
        if code in category_items:
            item = category_items[code]
            break
    else:
        print(f'Invalid code "{code}".')
        return

    # check if item is in stock
    if item["stock"] > 0:
        #dispense item and calculate change
        print(f'\nDispensing {item["item"]}...')
        change = money - item["price"]
        item["stock"] -= 1
        print(f"Returning {change:.2f} DHS...\n")
        print('''­Ъєѕ ­ЪЁЙ ­Ъєё ­ЪєЂ    ­ЪЁИ ­ЪєЃ ­ЪЁ┤ ­ЪЁ╝    ­ЪЁи ­ЪЁ░ ­Ъєѓ    ­ЪЁ▒ ­ЪЁ┤ ­ЪЁ┤ ­ЪЁй   ­ЪЁ│ ­ЪЁИ ­Ъєѓ ­ЪЁ┐ ­ЪЁ┤ ­ЪЁй ­Ъєѓ ­ЪЁ┤ ­ЪЁ│ . 
                ­ЪєЃ ­ЪЁи ­ЪЁ░ ­ЪЁй ­ЪЁ║    ­Ъєѕ ­ЪЁЙ ­Ъєё    ­ЪЁх ­ЪЁЙ ­ЪєЂ   ­Ъєё ­Ъєѓ ­ЪЁИ ­ЪЁй ­ЪЁХ   ­ЪЁ╝ ­ЪЁ░ ­ЪєЂ ­ЪЁЙ РЮю ­Ъєѓ   ­ЪєЁ ­ЪЁ┤ ­ЪЁй ­ЪЁ│ ­ЪЁИ ­ЪЁй ­ЪЁХ    ­ЪЁ╝ ­ЪЁ░ ­ЪЁ▓ ­ЪЁи ­ЪЁИ ­ЪЁй ­ЪЁ┤ .''')
    else:
        print(f'\nError: {item["name"]} is out of stock.')


# function to suggest additional purchase based on previous purchase
def suggest_purchase(item, code):
    if code in items["­ЪЁ│ ­ЪєЂ ­ЪЁИ ­ЪЁй ­ЪЁ║ ­Ъєѓ"]:
        print("You might also like:")
        for code, item in items["­Ъєѓ ­ЪЁй ­ЪЁ░ ­ЪЁ▓ ­ЪЁ║ ­Ъєѓ"].items():
            print(f'{code}: {item["item"]} ({item["price"]:.2f}dhs)')
    elif code in items["­ЪЁ▓ ­ЪЁЙ ­ЪЁх ­ЪЁх ­ЪЁ┤ ­ЪЁ┤"]:
        print("You might also like:")
        for code, item in items["­ЪЁ▓ ­ЪЁи ­ЪЁЙ ­ЪЁ▓ ­ЪЁЙ ­ЪЁ╗ ­ЪЁ░ ­ЪєЃ ­ЪЁ┤"].items():
            print(f'{code}: {item["item"]} ({item["price"]:.2f}dhs)')



# main program
while True:
    # print menu of items
    print_menu(items)
    # get valid code from user
    code = get_code(items)
    # get valid amount of money from user
    money = get_money(items, code)
    #dispense item and calculate change
    dispense_item(items, code, money)
    # suggest additional purchase based on previous purchase
    suggest_purchase(items, code)
    # prompt user to continue or exit
    while True:
        response = input("\nWould you like to make another purchase? (y/n) ")
        if response.lower() == "y":
            break
        elif response.lower() == "n":
            print("Thank you for using the vending machine!")
            exit()
        else:
            print("Invalid response. Please try again.")
